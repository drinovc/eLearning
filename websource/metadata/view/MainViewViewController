{
    "type": "Ext.app.ViewController",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "mainview",
        "designer|userClassName": "MainViewViewController"
    },
    "configAlternates": {
        "designer|userAlias": "string",
        "designer|userClassName": "string"
    },
    "designerId": "4611ed12-d628-4ff4-91cd-baa29154d036",
    "cn": [
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "load",
                "implHandler": [
                    "this.loadLookups();"
                ]
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code"
            },
            "name": "load",
            "designerId": "aa98eaca-3552-4a2e-aec9-68f5188cbcdc"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "url",
                    "params",
                    "name"
                ],
                "fn": "getAjax",
                "implHandler": [
                    "/*",
                    "Ext.Ajax.request({",
                    "    url: 'feed.json',",
                    "}).then(function(response) {",
                    "    // use response",
                    "}).always(function() {",
                    "   // clean-up logic, regardless the outcome",
                    "}).otherwise(function(reason){",
                    "   // handle failure",
                    "});",
                    "*/",
                    "",
                    "return new Ext.Promise(function (resolve, reject) {",
                    "    Ext.Ajax.request({",
                    "        url: url,",
                    "        params: params,",
                    "        success: function (response) {",
                    "            var rObj = Ext.decode(response.responseText || '{}');",
                    "",
                    "            if(rObj.success) {",
                    "                resolve({",
                    "                    name: name,",
                    "                    data: rObj.data,",
                    "                });",
                    "            }",
                    "            else {",
                    "                reject(rObj.reason || 'Success false');",
                    "            }",
                    "        },",
                    "        failure: function (response) {",
                    "            reject(response.status);",
                    "        }",
                    "    });",
                    "});"
                ]
            },
            "configAlternates": {
                "designer|params": "typedarray",
                "fn": "string",
                "implHandler": "code"
            },
            "name": "getAjax",
            "designerId": "29238eb8-2d1b-478f-ac14-f709b873ca61"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "loadLookups",
                "implHandler": [
                    "var me = this;",
                    "",
                    "Ext.Promise.all([",
                    "    me.getAjax('/Lookups/ProgramCategories', {}, 'ProgramCategories'),",
                    "    me.getAjax('/Lookups/ProgramPageCategories', {}, 'ProgramPageCategories'),",
                    "    me.getAjax('/Lookups/CoursesAndCertificates', {}, 'CoursesAndCertificates'),",
                    "    me.getAjax('/Lookups/ProgramStatuses', {}, 'ProgramStatuses')",
                    "]).then(function(data) {",
                    "    Ext.each(data, function(data) {",
                    "        App.lookups[data.name] = data.data;",
                    "    });",
                    "    ",
                    "    var i = 0,",
                    "        obj = null;",
                    "    ",
                    "    // Getting ProgramPageCategories into dictionary where key is text ('Chapter', 'Page') and value is id (1, 2)",
                    "    App.ProgramPageCategoriesEnum = {};",
                    "    for(i = 0; i < App.lookups.ProgramPageCategories.length; i++){",
                    "        obj = App.lookups.ProgramPageCategories[i];",
                    "        App.ProgramPageCategoriesEnum[obj.text] = obj.id;",
                    "    }",
                    "    Object.freeze(App.ProgramPageCategoriesEnum); // freezing enum so it cannot be changed later",
                    "",
                    "     // Getting ProgramStatuses into dictionary where key is text ('In Progress', 'Passed'...) and value is id (1, 2...)",
                    "    App.ProgramStatuses = {};",
                    "    for(i = 0; i < App.lookups.ProgramStatuses.length; i++){",
                    "        obj = App.lookups.ProgramStatuses[i];",
                    "        App.ProgramStatuses[obj.text] = obj.id;",
                    "    }",
                    "    Object.freeze(App.ProgramStatuses); // freezing enum so it cannot be changed later",
                    "",
                    "",
                    "",
                    "}, function(err) {",
                    "    Ext.Msg.alert('Load Lookups Error', err);",
                    "});"
                ]
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code"
            },
            "name": "loadLookups",
            "designerId": "55ae10e6-37ed-4dff-99aa-feefa83cbe76"
        }
    ]
}